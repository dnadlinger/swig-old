#######################################################################
# $Header$
#######################################################################

srcdir = @srcdir@
VPATH = @srcdir@

SHELL    = /bin/sh
CXX      = @CXX@
CFLAGS   = @CFLAGS@ @SWILL@
YACC     = @YACC@
AR       = @AR@
RANLIB   = @RANLIB@

TARGET   = libmodules.a
OBJS     = main.@OBJEXT@ module.@OBJEXT@ emit.@OBJEXT@ overload.@OBJEXT@ lang.@OBJEXT@ typepass.@OBJEXT@ allocate.@OBJEXT@ browser.@OBJEXT@ contract.@OBJEXT@ swigmain.@OBJEXT@ tcl8.@OBJEXT@ python.@OBJEXT@ perl5.@OBJEXT@ guile.@OBJEXT@ ruby.@OBJEXT@ mzscheme.@OBJEXT@ java.@OBJEXT@ php4.@OBJEXT@ ocaml.@OBJEXT@ xml.@OBJEXT@ pike.@OBJEXT@ s-exp.@OBJEXT@
SRCS     = main.cxx module.cxx emit.cxx overload.cxx lang.cxx typepass.cxx allocate.cxx browser.cxx contract.cxx swigmain.cxx tcl8.cxx python.cxx perl5.cxx guile.cxx ruby.cxx mzscheme.cxx java.cxx php4.cxx ocaml.cxx xml.cxx pike.cxx s-exp.cxx

INCLUDES = -I$(srcdir)/../Include		\
           -I$(srcdir)/../DOH		\
           -I$(srcdir)/../Preprocessor          \
           -I$(srcdir)/../Swig                  \
           -I../Include

# Rules for creation of a .@OBJEXT@ file from .cxx
.SUFFIXES: .cxx
.cxx.@OBJEXT@:
	$(CXX) $(INCLUDES) $(CFLAGS) -c -o $*.@OBJEXT@ $<


swig:  $(TARGET)

$(TARGET): $(OBJS)
	$(AR) cr $(TARGET) $(OBJS)
	$(RANLIB) $(TARGET)

clean::
	rm -f *.@OBJEXT@ *~ $(TARGET)

nuke::
	rm -f Makefile *~
