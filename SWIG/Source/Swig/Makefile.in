# ---------------------------------------------------------------
# $Header$
#----------------------------------------------------------------

SRCS          = types.c scanner.c include.c getopt.c misc.c super.c type.c
OBJS          = types.o scanner.o include.o getopt.o misc.o super.o type.o

prefix        = @prefix@
exec_prefix   = @exec_prefix@

CC            = @CC@
AR            = @AR@
RANLIB        = @RANLIB@
CFLAGS        = @CFLAGS@
INCLUDE       = -I. -I../DOH/Include
TARGET        = libswig.a

.c.o: 
	$(CC) $(CFLAGS) $(INCLUDE) -c -o $*.o $<

all: $(TARGET)

$(TARGET): $(OBJS)
	$(AR) cr $(TARGET) $(OBJS)
	$(RANLIB) $(TARGET)

supertest: super.c		# test the super module
	$(CC) $(CCSHARED) $(INCLUDE) $(CFLAGS) -g -DSUPER_TEST -c \
		-o supertest.o super.c
	$(CC) supertest.o -ldoh -o supertest

clean:
	rm -f *.o *~ core *.so *.a *_wrap.*

