#######################################################################
# $Header$
# DOH
#######################################################################

srcdir = @srcdir@
VPATH  = @srcdir@

#.KEEP_STATE:

# Set your C++ compiler here.   g++ works on most machines,
# but you might have to change it depending on your installation.
#
CC      = @CC@
prefix     = @prefix@

# Comment out the following line if you're on an SGI or don't have ranlib!
RANLIB  = @RANLIB@
AR      = @AR@

DOHOPT  =

########################################################################
# Normally, you shouldn't have to change anything below this point     #
########################################################################

LIBOBJS = void.@OBJEXT@ fio.@OBJEXT@ memory.@OBJEXT@ base.@OBJEXT@ file.@OBJEXT@ list.@OBJEXT@ hash.@OBJEXT@ string.@OBJEXT@

LIBSRCS = void.c fio.c memory.c base.c file.c list.c hash.c string.c

LIBHEADERS = $(srcdir)/doh.h
LIB      = libdoh.a
INCLUDES = -I$(srcdir)
CFLAGS   = @CFLAGS@
SHELL  = /bin/sh

#
# Rules for creation of a .@OBJEXT@ file from .c
.SUFFIXES: .c
.c.@OBJEXT@:
	$(CC) $(DOHOPT) $(INCLUDES) $(CFLAGS) -c -o $*.@OBJEXT@ $<

all: $(LIB)

$(LIB): $(LIBOBJS)
	@echo "Building library"
	$(AR) cr $(LIB) $(LIBOBJS)
	$(RANLIB) $(LIB)

clean::
	rm -f *.@OBJEXT@ $(LIB) ../$(LIB)
nuke::
	rm -f Makefile *~



