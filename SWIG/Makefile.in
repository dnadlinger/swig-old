#######################################################################
# $Header$
# Simplified Wrapper and Interface Generator (SWIG)
# 
#######################################################################

TARGET     = swig
SHELL  = /bin/sh
CC     = @CC@
CXX    = @CXX@
LIBS   =

#
#
#

SWIGOBJS   = Source/SWIG1.1/*.o Source/Modules1.1/*.o Source/DOH/Doh/*.o Source/Core/*.o Source/Preprocessor/*.o

swig: objs
	$(CXX) $(SWIGOBJS) $(LIBS) -o $(TARGET)

objs:		
	@ORIG_DIR=`pwd`; \
	for i in `ls Source/`; \
	do \
	  if [ -d Source/$$i -a -f Source/$$i/Makefile ]; then \
            (cd Source/$$i && $(MAKE)) || exit 1; \
            cd $$ORIG_DIR ;\
          fi \
        done;

clean:
	@ORIG_DIR=`pwd`; \
	for i in `ls Source/`; \
	do \
	  if [ -d Source/$$i -a -f Source/$$i/Makefile ]; then \
            (cd Source/$$i && $(MAKE) clean) || exit 1; \
            cd $$ORIG_DIR ;\
          fi \
        done;
	rm -f swig

nuke:
	@ORIG_DIR=`pwd`; \
	for i in `ls Source/`; \
	do \
	  if [ -d Source/$$i -a -f Source/$$i/Makefile ]; then \
            (cd Source/$$i && $(MAKE) nuke) || exit 1; \
            cd $$ORIG_DIR ;\
          fi \
        done;
	rm -f Makefile Makefile.template config.*
